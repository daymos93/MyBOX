

Final Version (27 January, 2020, Mihaly Novak)
==============================================

This is the complete version of the application that we developed together during 
the Geant4 Beginner Course (at CERN 21-23 January 2020). 


How to build this application (reminder)
========================================

1. You need to generate the Makefile by using cmake from the 
   build directory as (on the virtual machine)

cmake ../ 

  and if you have your Geant4 installation on your system, you need to specify 
  the location of the Geant4Config.cmake file (which is in your Geant4 installation
  location in the /lib/Geant4-10.6.0 directory) by setting the path to it in the 
  -DGeant4_DIR Geant4 cmake variable as


cmake ../ -DGeant4_DIR=/Where/Your/Geant4/installation/is/lib/Geant4-10.6.0/

2. After the Makefile is generated by the above cmake command you need to invoke 
   the make command to build (compile and link) your application with Geant4 
   toolkit as 
   
make    

  If everything is compiled and linked successfully, the 'yourMainApplication'
  executable of the application is available under this build directory. 


Compared to where we finished
==============================

As you will see, this version contains much more comments regarding the details 
of the individual methods, classes compared to what we had in hand at the end of
the course. The only additional functionality, that I have added to our application, 
is some example of custom UI commands: to be able to manipulate the properties 
of our target (its material and thickness) and to be able to set the properties 
(and activating on the same time) the energy deposit histogram. Note, that these 
custom UI commands are not necessary to the application but makes it more 
flexible. You can find more information on how to define custom UI commands at 
the end (from page 19) of the uploaded "User Interface" material under the 
following location:
https://indico.cern.ch/event/865808/contributions/3647803/


Macro files
===========

You can find the Geant4 macro file ("g4Macro.mac") that we used during the 
development of our application as well as the macro file ("vis.mac") that we 
used to create a simply visualisation setup. As you remember, our application 
can be execute either in interactive (no any input argument) or in batch mode 
(the only one input argument is a Geant4 macro file). So you can run our 
application (from the build where the executable is located):

1. with the given "g4Macro.mac" file as 

./yourMainApplication ../g4Macro.mac 

2. in interactive mode as

./yourMainApplication

  When executing in interactive mode, you can set up the visualisation before 
  executing the simulation (but the run needs to be initialised before) by invoking 
  the following commands in the UI session (either in the "QT" session or in the 
  session "terminal"):

/run/initialize 
/control/execute ../vis.mac
/control/execute ../g4Macro.mac


Experimental data
=================

We used our application at the end of our development to compute the distribution 
of energy deposited by 100 [MeV] electrons in 5.6 [um] thin silicon target. You 
can find all related information and macro files under the experiment directory: 
 - "exp_Meroli_100MeV_electron_5p6um_Si.dat" the experimental data 
 - "Meroli2011_paper.pdf" the paper where the experimental data is taken from
 - "g4Macro_Meroli_100MeV_electron_5p6um_Si.mac" Geant4 macro to our application 
   to achieve the experimental setup (target material, thickness primary energy,
   particle type, etc.) and to activate the generation of the energy deposit 
   histogram during the simulation (and set its properties)
 - "gplot.p" is a 'gnuplot' script i.e. input file to 'gnuplot' to create a nice 
   plot that compares the result of our simulation and the experimental data 
   (see more information inside this "gplot.p" file)
 - the remaining 2 files are the simulated energy loss histogram ("Hist_Edep.dat")
   copied here from the build directory, and the figure (produced by the 
   "gplot.p" script) in ".eps" and ".pdf" format
   

Final remarks
=============

Enjoy and see you at the Geant4 Advanced Course https://indico.cern.ch/event/866056/

Cheers,
Mihaly

